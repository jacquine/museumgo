{"ast":null,"code":"import _defineProperty from \"/Users/qiqi/Desktop/museaccess/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/qiqi/Desktop/museaccess/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/qiqi/Desktop/museaccess/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/qiqi/Desktop/museaccess/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/qiqi/Desktop/museaccess/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/qiqi/Desktop/museaccess/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/qiqi/Desktop/museaccess/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/qiqi/Desktop/museaccess/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/qiqi/Desktop/museaccess/src/components/Search.js\";\nimport React, { Component } from 'react';\nimport Results from './Results';\nimport Checkbox from './Checkbox';\nvar OPTIONS = [\"ramp\", \"elevators\", \"wheelchair rental\", \"guide dogs\", \"braille\", \"accessibility tours\"];\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this.handleCheckboxChange = function (changeEvent) {\n      var name = changeEvent.target.name;\n\n      _this.setState(function (prevState) {\n        return {\n          checkboxes: _objectSpread({}, prevState.checkboxes, _defineProperty({}, name, !prevState.checkboxes[name]))\n        };\n      });\n    };\n\n    _this.handleFormSubmit = function (formSubmitEvent) {\n      formSubmitEvent.preventDefault();\n      Object.keys(_this.state.checkboxes).filter(function (checkbox) {\n        return _this.state.checkboxes[checkbox];\n      }).forEach(function (checkbox) {\n        console.log(checkbox, \"is selected.\");\n      });\n    };\n\n    _this.createCheckbox = function (option) {\n      return React.createElement(Checkbox, {\n        label: option,\n        isSelected: _this.state.checkboxes[option],\n        onCheckboxChange: _this.handleCheckboxChange,\n        key: option,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      });\n    };\n\n    _this.createCheckboxes = function () {\n      return OPTIONS.map(_this.createCheckbox);\n    };\n\n    _this.state = {\n      location: '',\n      value2: '',\n      results: '',\n      checkboxes: OPTIONS.reduce(function (options, option) {\n        return _objectSpread({}, options, _defineProperty({}, option, false));\n      }, {})\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getResult = _this.getResult.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        location: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChange2\",\n    value: function handleChange2(event) {\n      this.setState({\n        amenities: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      event.preventDefault();\n    }\n  }, {\n    key: \"getResult\",\n    value: function getResult(event) {\n      var _this2 = this;\n\n      // const axios = require('axios');\n      // axios.get(\"http://localhost:8080/museums\")\n      // .then(function(response) {\n      //     console.log(response);\n      // })\n      fetch('http://localhost:8080/museums').then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n\n        _this2.setState({\n          resultList: data,\n          results: true\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.results) {\n        return React.createElement(\"form\", {\n          onSubmit: this.handleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.location,\n          onChange: this.handleChange,\n          placeholder: \"Your Location\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, this.createCheckboxes()), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          onClick: this.getResult,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }, \"search\"));\n      } else {\n        return React.createElement(Results, {\n          results: resultList,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/qiqi/Desktop/museaccess/src/components/Search.js"],"names":["React","Component","Results","Checkbox","OPTIONS","Search","props","handleCheckboxChange","changeEvent","name","target","setState","prevState","checkboxes","handleFormSubmit","formSubmitEvent","preventDefault","Object","keys","state","filter","checkbox","forEach","console","log","createCheckbox","option","createCheckboxes","map","location","value2","results","reduce","options","handleChange","bind","handleSubmit","getResult","event","value","amenities","fetch","then","response","json","data","resultList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Results from './Results'\nimport Checkbox from './Checkbox'\n\nconst OPTIONS = [\"ramp\", \"elevators\", \"wheelchair rental\", \"guide dogs\", \"braille\", \"accessibility tours\"];\n\nclass Search extends Component {\n    constructor(props) {\n        super(props); \n        this.state = {\n            location: '',\n            value2: '',\n            results: '',\n            checkboxes: OPTIONS.reduce(\n                (options, option) => ({\n                    ...options,\n                    [option]: false\n                }),\n                {}\n            )\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.getResult = this.getResult.bind(this);\n    }\n\n    handleChange(event) {\n        this.setState({\n            location: event.target.value\n        });\n    }\n\n    handleChange2(event) {\n        this.setState({\n            amenities: event.target.value\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n    }\n\n    getResult(event) {\n        // const axios = require('axios');\n        // axios.get(\"http://localhost:8080/museums\")\n        // .then(function(response) {\n        //     console.log(response);\n        // })\n        fetch(\n            'http://localhost:8080/museums')\n            .then(response => response.json())\n            .then(\n                data => {\n                    console.log(data);\n                    this.setState({resultList: data, results:true\n                    });\n                 \n            });\n        \n    }\n    handleCheckboxChange = changeEvent => {\n        const { name } = changeEvent.target;\n    \n        this.setState(prevState => ({\n          checkboxes: {\n            ...prevState.checkboxes,\n            [name]: !prevState.checkboxes[name]\n          }\n        }));\n    };\n    \n    handleFormSubmit = formSubmitEvent => {\n        formSubmitEvent.preventDefault();\n    \n        Object.keys(this.state.checkboxes)\n          .filter(checkbox => this.state.checkboxes[checkbox])\n          .forEach(checkbox => {\n            console.log(checkbox, \"is selected.\");\n          });\n    };\n    \n    createCheckbox = option => (\n        <Checkbox\n          label={option}\n          isSelected={this.state.checkboxes[option]}\n          onCheckboxChange={this.handleCheckboxChange}\n          key={option}\n        />\n    );\n    \n    createCheckboxes = () => OPTIONS.map(this.createCheckbox);\n\n    render() {\n        if (!this.state.results) {\n            return (\n            <form onSubmit={this.handleSubmit}>\n                <label>\n                <input type=\"text\" value={this.state.location} onChange={this.handleChange} placeholder=\"Your Location\" />\n                </label>\n                <br/>\n                <br/>\n                <label>\n                {this.createCheckboxes()}\n                {/* <select value={this.state.amenities} onChange={this.handleChange}>\n                    <option value=\"ramp\">Ramps</option>\n                    <option value=\"elevators\">Elevators</option>\n                    <option value=\"wheelchair rental\">Wheelchair Rental</option>\n                    <option value=\"guide dogs\">Guide dogs</option>\n                    <option value=\"braille\">Braille</option>\n                    <option value=\"accessibility tours\">Accessibility guided tours</option>\n                </select> */}\n                </label><br/>\n                <button onClick={this.getResult}>search</button>\n            </form>\n            )\n        }\n        else {\n            return (\n                 <Results results={resultList}/>\n            )\n        }  \n    }\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}